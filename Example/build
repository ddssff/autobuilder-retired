Comment: ========== RELEASE-INDEPENDENT TARGET LISTS ===============
  .
  For a given release there may be additional targets which need to be
  built.  For example Debian Etch has a version of haskell-cabal which
  is too old to build the autobuilder, so in the 'etch' file we pull
  in the one from feisty, the next oldest release.

Comment: =========== TIGHT BUILD DEPENDENCIES ================
  Because of Ian's new code to generate equals dependencies for all
  the packages used while building, it is necessary to create quilt
  targets for most new source packages.  These patches do two things:
  .
	1. Add a call to update-generated-files following the build-stamp: target
        2. Change ocurrences of cabal:deps:ghc6:* in the Build-Depends line of
	   debian/control.in to cabal:bdeps:ghc6:*.
	3. Change the equals releations in the list of build dependencies to
	   greater-or-equal relations.  Without doing this it is impossible to
	   build the package unless you use all the exact versions that Ian used.
  .
  The packages currently patched in this way include:
  .
	haskell-alut
	haskell-arrows
	haskell-cgi
	haskell-fgl
	haskell-glut
	haskell-network
	haskell-openal
  .
  It is also desirable that the build dependencies that are added by
  running update-generated-files be >= dependencies rather than =
  dependencies.  There is a patch in haskell-utils-quilt called
  build-deps.patch which modifies the update-haskell-control.lhs script
  to make this change.

Comment: ============ HAPPY BOOSTRAPPING ==================
  .
  The happy program has a build dependency on itself.  The target
  below applies a quilt patch which changes this dependency to
  "happy | ghc6".  This allows you to drop a working /usr/bin/happy
  and /usr/share/happy-1.17 into the clean build environment of a
  distribution that doesn't have a working happy package (such as
  Debian Lenny.)  Once the bootstrap has been done, the dummy target
  should be used to restored the original dependencies while keeping
  the modified version number.
  .
  quilt:(apt:sid:happy):(darcs:http://src.seereason.com/happy-quilt)
  quilt:(apt:sid:happy):(darcs:http://src.seereason.com/happy-quilt-dummy)

Name: relax
Comment: The next line means hscolour won't be rebuilt just because ghc6 changes, so
	 it breaks the circular build dependency loop.
Relax-Depends: ghc6 hscolour
Comment: Let's assume that new versions of utilities like make and g++ won't
	affect our build.  Everyone else does...
Relax-Depends: base-files
Relax-Depends: bash
Relax-Depends: bsdutils
Relax-Depends: devscripts
Relax-Depends: dpkg
Relax-Depends: dpkg-dev
Relax-Depends: gcc
Relax-Depends: g++
Relax-Depends: make
Relax-Depends: mount
Relax-Depends: base-passwd
Relax-Depends: mktemp
Relax-Depends: sed
Relax-Depends: util-linux
Relax-Depends: g++
Relax-Depends: make
Comment: Relax self dependencies
Relax-Depends: happy happy
Relax-Depends: haskell-devscripts
Use: relax-ghc

Name: relax-ghc
Comment: achieve this build order:
  cabal -> cabal-debian -> ghc-paths -> haddock -> ghc6
Relax-Depends: haddock haskell-haddock
Relax-Depends: ghc6 haskell-cabal
Relax-Depends: ghc6 haskell-cabal
Relax-Depends: ghc6-prof haskell-cabal
Relax-Depends: ghc6-doc haskell-cabal
Relax-Depends: cabal-debian haskell-cabal
Relax-Depends: haddock haskell-cabal
Relax-Depends: ghc6 haskell-ghc-paths
Relax-Depends: ghc6-prof haskell-ghc-paths
Relax-Depends: ghc6-doc haskell-ghc-paths
Relax-Depends: haddock haskell-ghc-paths
Relax-Depends: libghc6-cabal-prof haskell-ghc-paths
Relax-Depends: haskell-cabal-doc haskell-ghc-paths
Relax-Depends: libghc6-debian-prof haskell-cabal-debian
Relax-Depends: haskell-debian-doc haskell-cabal-debian
Relax-Depends: haddock haskell-cabal-debian
Relax-Depends: ghc6 haskell-cabal-debian
Relax-Depends: ghc6-prof haskell-cabal-debian
Relax-Depends: ghc6-doc haskell-cabal-debian
Relax-Depends: libghc6-time-prof haskell-cabal-debian
Relax-Depends: libghc6-time-doc haskell-cabal-debian
Relax-Depends: cabal-debian haskell-extra
Relax-Depends: cabal-debian haskell-debian
Relax-Depends: ghc6 ghc6
Comment: Relax-Depends: hscolour ghc6
Comment: All the existing haddock documentaion is invalidated when a new ghc6
	is built, and when a new haskell-haddock is build.  Therefore, we must
	rebuild ghc6 after haddock is built so ghc6-doc contains valid files,
	but we must not rebuild haddock after ghc6 is built because that would
	make them invalid again.  Unfortunately, it is likely that the haddock
	docs will always be invalid.
Relax-Depends: ghc6 haskell-haddock
Relax-Depends: ghc6-prof haskell-haddock
Relax-Depends: ghc6-doc haskell-haddock
Comment: Temporary - I changed haskell-devscripts-cdbs, but though haskell-devscripts 
	got rebuilt it hasn't changed in a long time.  It would be good to be able to
	specify haskell-devscripts (<< 0.6.13).
Commment: ghc needs these to build
Comment: We want to avoid rebuilding haddock.  However, we must have
  some version of ghc-paths to build haddock, we have to do a special
  bootstrap build.

Name: ghc682
Use: relax
Comment: ghc6 version 6.8.2-2 will not build on etch due to a dependency on a newer gcc
	 The version in Ubuntu (6.8.2-1ubuntu1) will.
Comment: Please keep targets alphabetized by source package name!
Targets:
  deb-dir:(darcs:http://code.haskell.org/haddock):(darcs:http://src.seereason.com/debian/haddock-debian)
  apt:sid:cpphs
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/ghc-paths/0.1.0.4/ghc-paths-0.1.0.4.tar.gz):(darcs:http://src.seereason.com/debian/ghc-paths-debian)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/Cabal/1.4.0.0/Cabal-1.4.0.0.tar.gz):(darcs:http://src.seereason.com/debian/cabal-debianization)
  quilt:(apt:sid:ghc6):(darcs:http://src.seereason.com/quilt/ghc6-quilt)
  quilt:(apt:sid:happy):(darcs:http://src.seereason.com/quilt/happy-quilt-dummy)
  quilt:(apt:sid:haskell-alut):(darcs:http://src.seereason.com/quilt/haskell-alut-quilt)
  quilt:(apt:sid:haskell-arrows):(darcs:http://src.seereason.com/quilt/haskell-arrows-quilt)
  quilt:(apt:sid:haskell-cgi):(darcs:http://src.seereason.com/quilt/haskell-cgi-quilt)
  darcs:http://src.seereason.com/cabal-debian
  quilt:(svn:svn://svn.debian.org/svn/pkg-haskell/packages/haskell-devscripts/trunk):(darcs:http://src.seereason.com/quilt/haskell-devscripts-quilt)
  quilt:(apt:sid:haskell-fgl):(darcs:http://src.seereason.com/quilt/haskell-fgl-quilt)
  quilt:(apt:sid:haskell-glut):(darcs:http://src.seereason.com/quilt/haskell-glut-quilt)
  quilt:(apt:sid:haskell-haskell-src):(darcs:http://src.seereason.com/quilt/haskell-src-quilt)
  quilt:(apt:sid:haskell-hgl):(darcs:http://src.seereason.com/quilt/haskell-hgl-quilt)
  quilt:(apt:sid:haskell-html):(darcs:http://src.seereason.com/quilt/haskell-html-quilt)
  quilt:(apt:sid:haskell-hunit):(darcs:http://src.seereason.com/quilt/haskell-hunit-quilt)
  quilt:(apt:sid:haskell-mtl):(darcs:http://src.seereason.com/quilt/haskell-mtl-quilt)
  quilt:(apt:sid:haskell-network):(darcs:http://src.seereason.com/quilt/haskell-network-quilt)
  quilt:(apt:sid:haskell-openal):(darcs:http://src.seereason.com/quilt/haskell-openal-quilt)
  quilt:(apt:sid:haskell-opengl):(darcs:http://src.seereason.com/quilt/haskell-opengl-quilt)
  quilt:(apt:sid:haskell-parallel):(darcs:http://src.seereason.com/quilt/haskell-parallel-quilt)
  quilt:(apt:sid:haskell-parsec):(darcs:http://src.seereason.com/quilt/haskell-parsec-quilt)
  quilt:(apt:sid:haskell-quickcheck):(darcs:http://src.seereason.com/quilt/haskell-quickcheck-quilt)
  quilt:(apt:sid:haskell-regex-base):(darcs:http://src.seereason.com/quilt/haskell-regex-base-quilt)
  quilt:(apt:sid:haskell-regex-compat):(darcs:http://src.seereason.com/quilt/haskell-regex-compat-quilt)
  quilt:(apt:sid:haskell-regex-posix):(darcs:http://src.seereason.com/quilt/haskell-regex-posix-quilt)
  quilt:(apt:sid:haskell-stm):(darcs:http://src.seereason.com/quilt/haskell-stm-quilt)
  quilt:(apt:sid:haskell-stream):(darcs:http://src.seereason.com/quilt/haskell-stream-quilt)
  quilt:(apt:sid:haskell-time):(darcs:http://src.seereason.com/quilt/haskell-time-quilt)
  quilt:(apt:sid:haskell-utils):(darcs:http://src.seereason.com/quilt/haskell-utils-quilt)
  quilt:(apt:sid:haskell-x11):(darcs:http://src.seereason.com/quilt/haskell-x11-quilt)
  quilt:(apt:sid:haskell-xhtml):(darcs:http://src.seereason.com/quilt/haskell-xhtml-quilt)
  quilt:(darcs:http://www.cs.york.ac.uk/fp/darcs/hscolour):(darcs:http://src.seereason.com/quilt/hscolour-quilt)
Comment:
  sourcedeb:file:///home/david/darcs/haddock-source-deb

Name: seereason-targets
Use: relax
Comment: Some targets are duplicates of targets in haskell-extra
Targets:
  darcs:http://src.seereason.com/haskell-debian-3
  darcs:http://src.seereason.com/haskell-ugly
  darcs:http://src.seereason.com/build-env
  darcs:http://src.seereason.com/autobuilder
  darcs:http://src.seereason.com/haskell-mime
  darcs:http://src.seereason.com/haskell-unixutils
  darcs:http://src.seereason.com/haskell-extra
  darcs:http://src.seereason.com/haskell-help
  darcs:http://src.seereason.com/mirror
  darcs:http://src.seereason.com/backups
  darcs:http://src.seereason.com/tree-widget
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/Shellac/0.9.1/Shellac-0.9.1.tar.gz):(darcs:http://src.seereason.com/debian/shellac-debian)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/Shellac-readline/0.9/Shellac-readline-0.9.tar.gz):(darcs:http://src.seereason.com/debian/shellac-readline-debian)
  darcs:http://src.seereason.com/decimal
  darcs:http://src.seereason.com/vc-darcs
Comment: This is not really useful any more
  apt:sid:hugs98
Comment: Missing build deps under lenny
  quilt:(apt:sid:xtla):(darcs:http://src.seereason.com/xtla-quilt)
Comment: haskell-cgi depends on xhtml
Comment:
  We need the latest hugs because haskell-unixutils builds a hugs library.
  Unfortunately, the lastest version still doesn't include System.Posix.Files,
  so I am disabling the hugs library in haskell-unixutils.
Comment: Probably don't need these
  proc:apt:gutsy:neko
  proc:apt:gutsy:haxe

Name: seereason-private-targets
Comment: These depend on haskell-extra
Targets:
  darcs:http://src.seereason.com/haskell-appraisal

Name: hsp
Use: relax
Targets:
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/hinotify/0.2/hinotify-0.2.tar.gz):(darcs:http://src.seereason.com/debian/hinotify-debian)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/plugins/1.2/plugins-1.2.tar.gz):(darcs:http://src.seereason.com/debian/plugins-debian)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/hspread/0.3/hspread-0.3.tar.gz):(darcs:http://src.seereason.com/debian/hspread-debian)
  deb-dir:(darcs:http://src.seereason.com/HSP/happs-hsp-template):(darcs:http://src.seereason.com/debian/happs-hsp-template-debian)
  deb-dir:(darcs:http://code.haskell.org/HSP/harp):(darcs:http://src.seereason.com/debian/harp-debian)
  quilt:(darcs:http://code.haskell.org/HSP/haskell-src-exts):(darcs:http://src.seereason.com/quilt/haskell-src-exts-quilt)
  deb-dir:(darcs:http://code.haskell.org/HSP/hjavascript):(darcs:http://src.seereason.com/debian/hjavascript-debian)
  deb-dir:(darcs:http://code.haskell.org/HSP/hjscript):(darcs:http://src.seereason.com/debian/hjscript-debian)
  deb-dir:(darcs:http://src.seereason.com/HSP/hsp):(darcs:http://src.seereason.com/debian/hsp-debian)
  deb-dir:(darcs:http://code.haskell.org/HSP/hsx-xhtml):(darcs:http://src.seereason.com/debian/hsx-xhtml-debian)
  darcs:http://src.seereason.com/HSP/hsx
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/RJson/0.3.5/RJson-0.3.5.tar.gz:e69c34b295e067c169a15fc5327a9dd9):(darcs:http://src.seereason.com/debian/RJson-debian)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/iconv/0.4/iconv-0.4.tar.gz):(darcs:http://src.seereason.com/debian/iconv-debian)
  darcs:http://src.seereason.com/HAppS/syb-with-class
  darcs:http://src.seereason.com/HAppS/HAppS-Data
  darcs:http://src.seereason.com/HAppS/HAppS-IxSet
  darcs:http://src.seereason.com/HAppS/HAppS-Server
  darcs:http://src.seereason.com/HAppS/HAppS-State
  darcs:http://src.seereason.com/HAppS/HAppS-Util
  darcs:http://src.seereason.com/HAppS/HAppS-Extra


Name: ghc-extra
Comment: Please keep targets alphabetized by source package name!
Use: relax
Use: hsp
Targets:
  apt:sid:alex
  apt:sid:arch2darcs
  apt:sid:bnfc
  apt:sid:c2hs
  apt:sid:darcs
  apt:sid:darcs-buildpackage
  apt:sid:darcs-monitor
  apt:sid:dfsbuild
  apt:sid:drift
  darcs:(http://src.seereason.com/frisby)
  apt:sid:frown
  apt:sid:ftphs
  apt:sid:gtkrsync
  darcs:http://www.n-heptane.com/nhlab/repos/haskell-agi
  apt:sid:haskell-anydbm
  quilt:(apt:hardy:haskell-binary):(darcs:http://src.seereason.com/quilt/haskell-binary-quilt)
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/bzlib/0.4.0.1/bzlib-0.4.0.1.tar.gz:b6a7612c10f785e2ec615dcc2e87004b):(darcs:http://src.seereason.com/debian/haskell-bzlib-debian)
  apt:sid:haskell-configfile
  apt:sid:haskelldb
  deb-dir:(darcs:http://darcs.haskell.org/crypto):(darcs:http://src.seereason.com/debian/haskell-crypto-debian)
  apt:sid:haskell-doc
  quilt:(apt:sid:haskell-edison):(darcs:http://src.seereason.com/quilt/edison-quilt)
  apt:sid:haskell-hlist
  apt:sid:haskell-hsh
  apt:hardy:haskell-hsql
  apt:hardy:haskell-hsql-mysql
  apt:hardy:haskell-hsql-odbc
  apt:hardy:haskell-hsql-postgresql
  apt:hardy:haskell-hsql-sqlite3
  apt:sid:haskell-http
  apt:sid:haskell-http
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/MemoTrie/0.0/MemoTrie-0.0.tar.gz):(darcs:http://src.seereason.com/debian/MemoTrie-debian)
  apt:sid:haskell-mode
  deb-dir:(darcs:http://code.haskell.org/utf8-string):(darcs:http://src.seereason.com/debian/haskell-utf8-string-debian)
  apt:sid:haskell-uulib
  deb-dir:(uri:http://hackage.haskell.org/packages/archive/zlib/0.4.0.1/zlib-0.4.0.1.tar.gz:2eacb65c040975ab76453bc5e82c6b7c):(darcs:http://src.seereason.com/debian/haskell-zlib-debian)
  apt:hardy:hat
  quilt:(apt:sid:haxml):(darcs:http://src.seereason.com/quilt/haxml-quilt)
  apt:sid:helium
  apt:sid:hg-buildpackage
  apt:hardy:hmake
  quilt:(apt:sid:hslogger):(darcs:http://src.seereason.com/quilt/hslogger-quilt)
  apt:sid:ldap-haskell
  apt:sid:lhs2tex
  apt:sid:listlike
  apt:sid:magic-haskell
  quilt:(apt:sid:missingh):(darcs:http://src.seereason.com/quilt/missingh-quilt)
  quilt:(apt:sid:pandoc):(darcs:http://src.seereason.com/quilt/pandoc-quilt)
  apt:sid:srcinst
  apt:sid:uuagc
  apt:sid:washngo
  apt:sid:whitespace
  sourcedeb:darcs:http://src.seereason.com/haskell-wordnet

Name: ghc-broken
Comment: These targets currently do not build
Use: relax
Targets:
  quilt:(apt:sid:gtk2hs):(darcs:http://src.seereason.com/quilt/gtk2hs-quilt)
  apt:sid:ghc-cvs
  apt:sid:haskell98-report
  quilt:(apt:sid:hdbc):(darcs:http://src.seereason.com/quilt/hdbc-quilt)
  apt:sid:hdbc-missingh
  apt:sid:hdbc-odbc
  apt:sid:hdbc-postgresql
  apt:sid:hdbc-sqlite3
  apt:sid:hpodder
  apt:sid:kaya
  apt:sid:missingpy
  apt:sid:xmonad
Comment: gtk2hs
	: [2] cairo/Graphics/Rendering/Cairo.hs.pp:242:7:
	: [2]     Could not find module `Graphics.Rendering.Cairo.Internal':
	: [2]       Use -v to see a list of the files searched for.
Comment: apt:sid:xmonad
	Equals dependencies
Comment: apt:sid:haskell98-report
	dvips: ! Couldn't find header file times.ttf.
Comment: apt:sid:pandoc
	: [2] Text/Pandoc/Definition.hs:92:32:
	: [2]     parse error on input `-- ^ Link target (URL, title)'
Comment: quilt:(apt:sid:hdbc):(darcs:http://src.seereason.com/quilt/hdbc-quilt)
	: [2] Database/HDBC/Statement.hs:201:0:
	: [2]     Illegal instance declaration for `SqlType String'
	: [2]         (All instance types must be of the form (T t1 ... tn)
	: [2]          where T is not a synonym.
	: [2]          Use -XTypeSynonymInstances if you want to disable this.)
	: [2]     In the instance declaration for `SqlType String'
	: [2] 
	: [2] Database/HDBC/Statement.hs:391:0:
	: [2]     Illegal instance declaration for `SqlType Rational'
	: [2]         (All instance types must be of the form (T t1 ... tn)
	: [2]          where T is not a synonym.
	: [2]          Use -XTypeSynonymInstances if you want to disable this.)
	: [2]     In the instance declaration for `SqlType Rational'
  Dependencies:
	apt:sid:hpodder
	apt:sid:hdbc-odbc
	apt:sid:hdbc-postgresql
	apt:sid:hdbc-sqlite3
Comment: apt:sid:pandoc
	: [2] Text/Pandoc/Definition.hs:92:32:
	: [2]     parse error on input `-- ^ Link target (URL, title)'
Comment: apt:hardy:hs-plugins
	: [1] ghc -package-name hi-0.9.10 -O -Wall -Werror -fno-warn-missing-signatures  -threaded -ILanguage/Hi -c Language/Hi/FastString.hs -o Language/Hi/FastString.o -ohi Language/Hi/FastString.hi
	: [2] 
	: [2] Language/Hi/FastString.hs:207:8:
	: [2]     Constructor `STArray' should have 4 arguments, but has been given 3
	: [2]     In the pattern: STArray _ _ arr#
	: [2]     In the second argument of `(>>=)', namely
	: [2]         `\ (STArray _ _ arr#) -> newIORef (FastStringTable 0# arr#)'
	: [2]     In the first argument of `unsafePerformIO', namely
	: [2]         `(stToIO (newSTArray (0 :: Int, 993) [])
	: [2]         >>=
	: [2]           \ (STArray _ _ arr#) -> newIORef (FastStringTable 0# arr#))'
	: [2] make[3]: *** [Language/Hi/FastString.o] Error 1
Comment: apt:sid:ghc-cvs
	: [2] Compat/Directory.hs:27:0:
	: [2]     Failed to load interface for `System.Directory.Internals':
	: [2]       Use -v to see a list of the files searched for.
  apt:sid:haddock		- Depends on directory, which is hidden:
  quilt:(darcs:http://code.haskell.org/encoding):(darcs:file:///home/david/darcs/haskell-encoding)	- Patches won't apply:
  apt:sid:hdbc-missingh		- Depends on ghc6 (<< 6.6+) or (<< 6.6-999)
  apt:sid:helium		- Failed due to failure of uuagc
  apt:sid:kaya			- Error parsing build depends (unexpected #):
  apt:sid:missingpy		- Disabled due to flaw in the autobuilder's build dependency parser:
  apt:sid:uuagc			- missing dependency on uulib
  apt:sid:xmonad		- Dependencies too tight:

Name: yhc-targets
Targets:
  sourcedeb:tla:dsf@foxthompson.net--2004/haskell-binary--dsf--0.3.0
  tla:dsf@foxthompson.net--2004/hxt--dsf--7.0
  sourcedeb:tla:dsf@foxthompson.net--2004/cpphs--dsf--1.3
  quilt:(apt:feisty:haskell-http):(tla:dsf@foxthompson.net--2004/haskell-http-quilt--dsf--0)
  sourcedeb:tla:dsf@foxthompson.net--2004/yhc--dsf--0.7.0

Name: kernel-targets
Targets:
  apt:gutsy:linux-source-2.6.22
  apt:gutsy:linux-meta
  quilt:(apt:gutsy:linux-restricted-modules-2.6.22):(tla:tos@linspire.com--skipjack/linux-restricted-modules-quilt--ubuntu--0)
Comment: Here are some more proposed targets
  tla:tos@linspire.com--skipjack/forward-oss-kernel-module--cnr--20070605
  tla:tos@linspire.com--skipjack/forward-oss--build-skipjack--0.3
  quilt:(apt:${base}:bcm43xx-fwcutter):(tla:tos@linspire.com--skipjack/bcm43xx-fwcutter-quilt--cnr--0)

Name: devel-targets
Targets:
  darcs:http://src.seereason.com/tree-widget
  quilt:(apt:sid:xtla):(darcs:http://src.seereason.com/xtla-quilt)
  remove this
